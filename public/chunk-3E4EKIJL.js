import{b,f as g}from"./chunk-YTPAW67S.js";var A=t=>Number(t.split(",").join("")),I=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0}),v=(t,r={})=>new Intl.NumberFormat("en-US",b({style:"currency",currency:"USD",minimumFractionDigits:0},r)).format(t),U=t=>t.charAt(0).toUpperCase()+t.slice(1),C=t=>(typeof t=="number"&&(t=t.toString()),~~t.replace(/[^0-9]/g,""));var P=(t,r)=>{let o=`${Number(~~t).toLocaleString("en")}`;return r?o=o+"%":o="$"+o,o},D=t=>(typeof t=="number"&&(t=t.toString()),t+"%"),f=(t,r=!0)=>{let e=`${Number(~~t)}`.split("");return e.length===1?e=["0.","0",`${e[0]}`]:e.length===2?e=["0.",`${e[0]}`,`${e[1]}`]:e.length===3?e=[`${e[0]}.`,`${e[1]}`,`${e[2]}`]:e.length>=4&&(e=[e[0],e[1]+".",e[2],e[3]]),r?D(e.join("")):e.join("")};var w=({loanPrincipal:t,repayment:r,interest:o})=>t-(r-o),S=({rate:t,loanPrincipal:r,numberOfPayments:o=12})=>{let e=parseFloat(f(t,!1))*.01;return parseFloat(e.toFixed(4))/o*r};var $=(t,r=0,o=!0)=>{let e=[],m=[],u=[],F=[];if(t.year)for(let s=0;s<t.year*12;s++){let c=S({rate:t.interestRate,loanPrincipal:e.length===0?t.mortgage-t.downPayment:e[s-1].loanBalance}),d=w({loanPrincipal:e.length===0?t.mortgage-t.downPayment:e[s-1].loanBalance,repayment:t.monthlyPayment,interest:c});m.push(Number(c.toFixed(2))),u.push(Number((t.monthlyPayment-c).toFixed(2))),F.push(Number(d.toFixed(2))<0?0:Number(d.toFixed(2)));let N={loanBalance:Number(d.toFixed(2))<0?0:Number(d.toFixed(2)),principlePaid:Number((t.monthlyPayment-c).toFixed(2)),interestPaid:Number(c.toFixed(2)),month:s+1};e.push(N)}let y=m.reduce((s,c)=>s+c,0),h=u.reduce((s,c)=>s+c,0),n=P(y),i=P(t.mortgage-t.downPayment),l=P(t.mortgage-t.downPayment+y),a=P(Math.floor(t.monthlyPayment)),p=t.year+new Date().getFullYear();return{dollarTotalInterestPaid:n,dollarTotalPrinciplePaid:i,dollarPrincipleInterest:l,dollarPayment:a,paidOffByWhen:p,stackedBarChartData:B(t),totalInterestPaid:y,totalPrinciplePaid:h}},B=t=>{let r=[];if(t.year){let o=[],e=[],m=[],u=[],F=n=>{let i=o.length===0?t.mortgage-t.downPayment:o[n-1].loanBalance,l=parseFloat(f(t.interestRate,!1))*.01;return parseFloat(l.toFixed(4))/12*i},y=(n,i)=>{let l=o.length===0?t.mortgage-t.downPayment:o[i-1].loanBalance,a=t.monthlyPayment;return l-(a-n)};for(let n=0;n<t.year*12;n++){let i=F(n),l=y(i,n);e.push(Number(i.toFixed(2))),m.push(Number((t.monthlyPayment-i).toFixed(2))),u.push(Number(l.toFixed(2))<0?0:Number(l.toFixed(2)));let a={loanBalance:Number(l.toFixed(2))<0?0:Number(l.toFixed(2)),principlePaid:Number((t.monthlyPayment-i).toFixed(2)),interestPaid:Number(i.toFixed(2)),month:n+1};o.push(a)}let h=[];return o.reduce((n,i,l)=>{let a=i.principlePaid,p=i.interestPaid;return parseFloat(i.month/12)%1===0?(h.push({year:i.month/12+new Date().getFullYear(),principle:n[n.length-1].principle+a,interest:n[n.length-1].interest+p,balance:i.loanBalance}),n.push({year:0,principle:0,interest:0,balance:0})):n.push({year:i.month/12+new Date().getFullYear(),principle:n.length?n[n.length-1].principle+a:a,interest:n.length?n[n.length-1].interest+p:p,balance:i.loanBalance}),n},r),h}};var T=t=>new Intl.DateTimeFormat("en-US").format(t);var x=class{constructor(r,o){g(this,"move",r=>{this.tooltip.style.left=r.clientX+10+"px",this.tooltip.style.top=r.clientY+10+"px"});g(this,"hide",r=>{this.tooltip.style.opacity=0,this.tooltip.style.display="none"});g(this,"show",r=>{this.tooltip.style.display="flex",this.tooltip.style.opacity=1});var e;this.tooltip=(e=document.body)==null?void 0:e.querySelector("#tooltip"),this.tooltip||(this.tooltip=document.createElement("div"),this.tooltip.setAttribute("id","tooltip"),this.tooltip.innerHTML=o||`
        <div class="year"></div>
          <div class="content">
            <div class="dot"></div>
            <div class="text"></div>
          </div> 
        </div>
      `,document.body.appendChild(this.tooltip)),r.tooltip=this.tooltip}getTooltip(){return this.tooltip}},M=t=>new x(t);export{A as a,I as b,v as c,U as d,C as e,$ as f,T as g,M as h};
