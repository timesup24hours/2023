import{h as x}from"./chunk-3E4EKIJL.js";import{f as i,h as b,m as w,o as v}from"./chunk-X46VMDJ4.js";import{f as o}from"./chunk-YTPAW67S.js";var k="* { margin: 0; padding: 0; border: 0; background: transparent; box-sizing: border-box; } body { font-family: var(--font-family); } .position-relative { position: relative; } .flex { display: flex; } .justify-end { justify-content: flex-end; } .fit-content { width: -moz-fit-content; width: fit-content; } .align-center { align-items: center; } .justify-center { justify-content: center; } .flex-row { flex-direction: row; } .flex-column { flex-direction: column; } .flex-grow-1 { flex-grow: 1; } .display-block { display: block; } .justify-space-between { justify-content: space-between; } .gap { gap: 10px; } .width-100p, .w-100p { width: 100%; } .h-100p { height: 100%; } .min-height-100p { min-height: 100%; } .height-100p { height: 100%; } .text-primary { color: var(--text-primary); } .text-secondary { color: var(--text-secondary); } .text-tertiary { color: var(--text-tertiary); } .subtitle { display: block; width: -moz-fit-content; width: fit-content; font-size: 16px; margin-block-start: 0px; margin-block-end: 0px; margin-inline-start: 0px; margin-inline-end: 0px; } huanlin-select:not(.hydrated) *, huanlin-carousel-item:not(.hydrated) *, huanlin-carousel:not(.hydrated) *, huanlin-clock:not(.hydrated) *, huanlin-live-editor:not(.hydrated) *, huanlin-mortgage:not(.hydrated) *, huanlin-home:not(.hydrated) *, huanlin-contact:not(.hydrated) *, huanlin-donut:not(.hydrated) *, huanlin-stacked-bar-chart:not(.hydrated) *, huanlin-group-bar-chart:not(.hydrated) *, huanlin-line-chart:not(.hydrated) *, huanlin-pie-chart:not(.hydrated) *, huanlin-bar-chart:not(.hydrated) *, huanlin-state:not(.hydrated) *, huanlin-table:not(.hydrated) *, huanlin-pin-table:not(.hydrated) *, huanlin-icon:not(.hydrated) *, huanlin-nav:not(.hydrated) *, huanlin-nav-item:not(.hydrated) *, huanlin-carousel:not(.hydrated) *, huanlin-carousel-item:not(.hydrated) *, huanlin-input-range:not(.hydrated) *, huanlin-clock:not(.hydrated) *, huanlin-history:not(.hydrated) *, huanlin-dropdown:not(.hydrated) *, huanlin-menu:not(.hydrated) *, huanlin-menu-item:not(.hydrated) *, huanlin-key-pair:not(.hydrated) *, huanlin-light-dark-mode:not(.hydrated) *, huanlin-load:not(.hydrated) *, huanlin-option:not(.hydrated) *, huanlin-select:not(.hydrated) *, huanlin-title-description:not(.hydrated) *, huanlin-notification:not(.hydrated) *, huanlin-input:not(.hydrated) *, huanlin-stepper:not(.hydrated) *, huanlin-step:not(.hydrated) *, huanlin-step-content:not(.hydrated) *, huanlin-textarea:not(.hydrated) *, huanlin-divider:not(.hydrated) *, huanlin-button:not(.hydrated) *, huanlin-checkbox:not(.hydrated) *, huanlin-tag:not(.hydrated) *, huanlin-progress:not(.hydrated) *, huanlin-breadcrumb:not(.hydrated) *, huanlin-breadcrumb-item:not(.hydrated) *, huanlin-app-two-layout:not(.hydrated) *, huanlin-switch:not(.hydrated) *, huanlin-tablist:not(.hydrated) *, huanlin-tab:not(.hydrated) *, huanlin-tab-panel:not(.hydrated) *, huanlin-app:not(.hydrated) *, huanlin-app-one:not(.hydrated) *, huanlin-page-general:not(.hydrated) *, huanlin-app-two:not(.hydrated) *, huanlin-overview-panel:not(.hydrated) *, huanlin-recipient-activity:not(.hydrated) *, huanlin-portal:not(.hydrated) * { display: none !important; } huanlin-suspense [slot=fallback] huanlin-icon { --height: 40px; --width: 40px; --fill: var(--color-primary); animation: spin 2s linear infinite; } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } :host, .root { width: 100%; display: flex; flex-direction: column; width: 100%; height: 100%; align-items: center; } .legend { display: flex; flex-direction: column; justify-content: space-between; font-size: 14px; height: 50px; width: 100%; } .legend .symbol-wrapper { display: flex; flex-direction: row; align-items: center; } .legend .symbol-wrapper .symbol-label { color: var(--text-secondary); } .legend .key { display: flex; flex-direction: row; justify-content: space-between; }";var S='<div part="root" class="root"></div>';var h=class extends HTMLElement{constructor(){super();o(this,"willLoad",()=>{var t;this.rootEle=(t=this.shadowRoot)==null?void 0:t.querySelector(".root")});o(this,"handlePieResize",()=>{this.render()});o(this,"render",()=>{let t=this.closest("div");if(!t||!this.shadowRoot)return;let{width:a,height:p}=t.getBoundingClientRect();if(!this.rootEle||a===0)return;this.rootEle.innerHTML="";let c=[{name:"Videos Requested",value:65},{name:"Videos Skipped",value:35}],r=a*.8,d=p*.6,y=10,u=1,z=1,L=Math.min(r-y,d-y)/3,l=b(["#555ed1","#eb4d75"]),R=i(this.rootEle).append("svg").attr("class","pie").attr("width",r).attr("height",d).append("g").attr("transform","translate("+r/2+","+d/2+")"),j=w().innerRadius(0).outerRadius(L),E=v().value(e=>e.value).sort(null),V=R.selectAll("path").data(E(c)).enter().append("g").append("path").attr("d",j).attr("fill",(e,n)=>l(n)).style("opacity",u).style("cursor","pointer").style("stroke","white").on("mouseover",(e,n)=>{var g,f;if(!this.tooltip)return;this.tooltip.style.display="flex",e.target.style.opacity=z,i(this.tooltip).transition().duration(200).style("opacity",1);let A=(g=this.tooltip)==null?void 0:g.querySelector(".dot");A.style.background=l(n.index);let C=(f=this.tooltip)==null?void 0:f.querySelector(".text");C.innerHTML=`${n.data.name} ${n.data.value}`}).on("mouseout",e=>{e.target.style.opacity=u,i(this.tooltip).style("opacity",0),this.tooltip.style.display="none"}).on("mousemove",e=>{i(this.tooltip).style("left",e.clientX+10+"px").style("top",e.clientY+10+"px")}),s=i(this.rootEle).append("div").attr("class","legend").style("margin-top","30px").selectAll(".key").data(c).enter().append("div").attr("class","key").style("display","flex").style("align-items","center").style("margin-right","20px"),m=s.append("div").attr("class","symbol-wrapper");m.append("div").attr("class","symbol").style("height","10px").style("width","10px").style("margin","5px 5px").style("background-color",(e,n)=>l(n)),m.append("div").attr("class","symbol-label").text(e=>`${e.name}`),s.append("div").attr("class","name").text(e=>`${e.value}%`),s.exit().remove()});let t=this.attachShadow({mode:"open"}),a=new CSSStyleSheet;a.replaceSync(k),t.adoptedStyleSheets=[a],t.innerHTML=S}set data(t){this.setAttribute("data",JSON.stringify(t))}get data(){let t=this.getAttribute("data")||[];return JSON.parse(t)}static get observedAttributes(){return[]}attributeChangedCallback(t,a,p){}connectedCallback(){this.classList.add("hydrated"),x(this),setTimeout(()=>{this.willLoad(),this.render(),this.addEventListener("mouseout",t=>{this.tooltip&&(this.tooltip.style.display="none")}),window.addEventListener("resize",this.handlePieResize)})}disconnectedCallback(){window.removeEventListener("resize",this.handlePieResize)}};export{h as default};
