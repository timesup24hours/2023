import{c as m,h as v}from"./chunk-4WU2W3SI.js";import{a as k,d as S,e as x,f as i,i as G,j as V}from"./chunk-4T34IBCY.js";import{h as w}from"./chunk-O7IMYJUU.js";var f=":host { display: flex; width: 100%; } .tick text { fill: var(--text-secondary); } /*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWNzdXJmaW5nL0Rlc2t0b3AvYXBwL2ZpcnN0L2Zyb250ZW5kL2NvbXBvbmVudHMvYmFyLWNoYXJ0L2luZGV4Lm1vZHVsZS5zY3NzIiwiJTNDaW5wdXQlMjBjc3MlMjAtS19GOTAlM0UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxhQUFBO0VBQ0EsV0FBQTtBQ0NGOztBREtFO0VBQ0UsMkJBQUE7QUNGSiIsImZpbGUiOiJ0by5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIHdpZHRoOiAxMDAlO1xufVxuLnJvb3Qge1xufVxuXG4udGljayB7XG4gIHRleHQge1xuICAgIGZpbGw6IHZhcigtLXRleHQtc2Vjb25kYXJ5KTtcbiAgfVxufSIsIjpob3N0IHtcbiAgZGlzcGxheTogZmxleDtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi50aWNrIHRleHQge1xuICBmaWxsOiB2YXIoLS10ZXh0LXNlY29uZGFyeSk7XG59XG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSnpiM1Z5WTJWU2IyOTBJam9pTDFWelpYSnpMMnBoWTNOMWNtWnBibWN2UkdWemEzUnZjQzloY0hBdlptbHljM1F2Wm5KdmJuUmxibVF2WTI5dGNHOXVaVzUwY3k5aVlYSXRZMmhoY25RaUxDSnpiM1Z5WTJWeklqcGJJbWx1WkdWNExtMXZaSFZzWlM1elkzTnpJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCTzBWQlEwVTdSVUZEUVRzN08wRkJUVUU3UlVGRFJTSXNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJanBvYjNOMElIdGNiaUFnWkdsemNHeGhlVG9nWm14bGVEdGNiaUFnZDJsa2RHZzZJREV3TUNVN1hHNTlYRzR1Y205dmRDQjdYRzU5WEc1Y2JpNTBhV05ySUh0Y2JpQWdkR1Y0ZENCN1hHNGdJQ0FnWm1sc2JEb2dkbUZ5S0MwdGRHVjRkQzF6WldOdmJtUmhjbmtwTzF4dUlDQjlYRzU5SWwxOSAqLyJdfQ== */";var J='<div part="root" class="root"></div>';var b=class extends HTMLElement{constructor(){super();w(this,"willLoad",()=>{});w(this,"render",()=>{var W;let a=this.parentElement;if(!a||!this.shadowRoot)return;let{width:s}=a.getBoundingClientRect();if(this.rootEle=(W=this.shadowRoot)==null?void 0:W.querySelector(".root"),!this.rootEle||s===0)return;this.rootEle.innerHTML="";let g=40,o={top:20,right:20,bottom:30,left:40},y=s-o.left-o.right-g,c=400-o.top-o.bottom,d=G().range([0,y]).padding(.1),r=V().range([c,0]),N=x(r).tickSize(0).tickPadding(10).ticks(2).tickFormat(t=>m(t,{notation:"compact"})),R=S(d).tickSize(0).offset(0).tickPadding(10).tickSizeOuter(0),p=i(this.rootEle).append("svg").attr("width",y+o.left+o.right).attr("height",c+o.top+o.bottom).append("g").attr("transform","translate("+o.left+","+o.top+")"),h=[{month:3,view:2e4},{month:6,view:1e4},{month:9,view:13e3},{month:12,view:13e3},{month:15,view:8e3},{month:18,view:4e3},{month:21,view:16e3},{month:24,view:4e3},{month:27,view:8e3},{month:31,view:8e3}];h.forEach(t=>{t.view=+t.view}),d.domain(h.map(t=>t.month)),r.domain([0,k(h,t=>t.view)]);function U(){return x(r).ticks(5)}p.append("g").attr("class","y grid").call(U().tickSize(-y).tickFormat("")).call(t=>t.selectAll(".tick line").attr("class","y-axis-grid").attr("stroke-dasharray","5").attr("stroke","var(--text-quaternary)")).call(t=>t.select(".domain").remove());function z(t,l){let e=l/1.8,n=10,u=c-r(t.view)-e;return`M${d(t.month)+d.bandwidth()/2-n/2},${r(t.view)+e} a ${e},${e} 0 0 1 ${e},-${e} h${n-2*e}a ${e},${e} 0 0 1 ${e},${e} v${u} h${-n}z`}p.selectAll(".bar").data(h).enter().append("path").attr("class","bar").attr("tabindex","0").style("cursor","pointer").attr("width",10).attr("d",t=>z(t,10)).style("fill",t=>"var(--color-primary)").on("mouseover",(t,l)=>{this.tooltip.style.display="flex",i(this.tooltip).transition().duration(200).style("opacity",1);let e=this.tooltip.querySelector(".dot");e.style.background="#555ed1";let n=this.tooltip.querySelector(".text");n.innerHTML=`${l.month} days - ${m(l.view,{notation:"compact"})} views`}).on("mouseout",t=>{i(this.tooltip).style("opacity",0),this.tooltip.style.display="none"}).on("mousemove",t=>{i(this.tooltip).style("left",t.clientX+10+"px").style("top",t.clientY+10+"px")}).on("focus",(t,l)=>{this.tooltip.style.display="flex",i(this.tooltip).transition().duration(200).style("opacity",1);let e=this.tooltip.querySelector(".dot");e.style.background="#555ed1";let n=this.tooltip.querySelector(".text");n.innerHTML=`${l.month} days - ${m(l.view,{notation:"compact"})} views`;let{x:u,y:X}=t.target.getBoundingClientRect();i(this.tooltip).style("left",u+10+"px").style("top",X+10+"px")}).on("blur",t=>{i(this.tooltip).style("opacity",0),this.tooltip.style.display="none"}),p.append("g").attr("class","x axis").attr("transform","translate(0,"+c+")").call(R).call(t=>t.select(".domain").remove()),p.append("g").attr("class","y axis").call(N).call(t=>t.select(".domain").remove())});let a=this.attachShadow({mode:"open"}),s=new CSSStyleSheet;s.replaceSync(f),a.adoptedStyleSheets=[s],a.innerHTML=J}static get observedAttributes(){return["data"]}attributeChangedCallback(a,s,g){this.render()}connectedCallback(){this.classList.add("hydrated"),v(this),setTimeout(()=>{this.willLoad(),this.render(),window.addEventListener("resize",a=>{this.render()})})}disconnectedCallback(){}};export{b as default};
//# sourceMappingURL=bar-chart-JKE5FF3U.js.map
