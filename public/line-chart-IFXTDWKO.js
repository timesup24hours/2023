import{g as b,h as T}from"./chunk-3E4EKIJL.js";import{a as v,b as w,d as $,e as k,f as u,j as L,k as z,l as C,n as M,p as E}from"./chunk-X46VMDJ4.js";import{f as y}from"./chunk-YTPAW67S.js";var G="* { margin: 0; padding: 0; border: 0; background: transparent; box-sizing: border-box; } body { font-family: var(--font-family); } .position-relative { position: relative; } .flex { display: flex; } .justify-end { justify-content: flex-end; } .fit-content { width: -moz-fit-content; width: fit-content; } .align-center { align-items: center; } .justify-center { justify-content: center; } .flex-row { flex-direction: row; } .flex-column { flex-direction: column; } .flex-grow-1 { flex-grow: 1; } .display-block { display: block; } .justify-space-between { justify-content: space-between; } .gap { gap: 10px; } .width-100p, .w-100p { width: 100%; } .h-100p { height: 100%; } .min-height-100p { min-height: 100%; } .height-100p { height: 100%; } .text-primary { color: var(--text-primary); } .text-secondary { color: var(--text-secondary); } .text-tertiary { color: var(--text-tertiary); } .subtitle { display: block; width: -moz-fit-content; width: fit-content; font-size: 16px; margin-block-start: 0px; margin-block-end: 0px; margin-inline-start: 0px; margin-inline-end: 0px; } huanlin-select:not(.hydrated) *, huanlin-carousel-item:not(.hydrated) *, huanlin-carousel:not(.hydrated) *, huanlin-clock:not(.hydrated) *, huanlin-live-editor:not(.hydrated) *, huanlin-mortgage:not(.hydrated) *, huanlin-home:not(.hydrated) *, huanlin-contact:not(.hydrated) *, huanlin-donut:not(.hydrated) *, huanlin-stacked-bar-chart:not(.hydrated) *, huanlin-group-bar-chart:not(.hydrated) *, huanlin-line-chart:not(.hydrated) *, huanlin-pie-chart:not(.hydrated) *, huanlin-bar-chart:not(.hydrated) *, huanlin-state:not(.hydrated) *, huanlin-table:not(.hydrated) *, huanlin-pin-table:not(.hydrated) *, huanlin-icon:not(.hydrated) *, huanlin-nav:not(.hydrated) *, huanlin-nav-item:not(.hydrated) *, huanlin-carousel:not(.hydrated) *, huanlin-carousel-item:not(.hydrated) *, huanlin-input-range:not(.hydrated) *, huanlin-clock:not(.hydrated) *, huanlin-history:not(.hydrated) *, huanlin-dropdown:not(.hydrated) *, huanlin-menu:not(.hydrated) *, huanlin-menu-item:not(.hydrated) *, huanlin-key-pair:not(.hydrated) *, huanlin-light-dark-mode:not(.hydrated) *, huanlin-load:not(.hydrated) *, huanlin-option:not(.hydrated) *, huanlin-select:not(.hydrated) *, huanlin-title-description:not(.hydrated) *, huanlin-notification:not(.hydrated) *, huanlin-input:not(.hydrated) *, huanlin-stepper:not(.hydrated) *, huanlin-step:not(.hydrated) *, huanlin-step-content:not(.hydrated) *, huanlin-textarea:not(.hydrated) *, huanlin-divider:not(.hydrated) *, huanlin-button:not(.hydrated) *, huanlin-checkbox:not(.hydrated) *, huanlin-tag:not(.hydrated) *, huanlin-progress:not(.hydrated) *, huanlin-breadcrumb:not(.hydrated) *, huanlin-breadcrumb-item:not(.hydrated) *, huanlin-app-two-layout:not(.hydrated) *, huanlin-switch:not(.hydrated) *, huanlin-tablist:not(.hydrated) *, huanlin-tab:not(.hydrated) *, huanlin-tab-panel:not(.hydrated) *, huanlin-app:not(.hydrated) *, huanlin-app-one:not(.hydrated) *, huanlin-page-general:not(.hydrated) *, huanlin-app-two:not(.hydrated) *, huanlin-overview-panel:not(.hydrated) *, huanlin-recipient-activity:not(.hydrated) *, huanlin-portal:not(.hydrated) * { display: none !important; } huanlin-suspense [slot=fallback] huanlin-icon { --height: 40px; --width: 40px; --fill: var(--color-primary); animation: spin 2s linear infinite; } @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } :host, .root { width: 100%; display: flex; flex-direction: column; width: 100%; height: 100%; align-items: center; } .tick text { fill: var(--text-secondary); }";var j='<div part="root" class="root"></div>';var S=class extends HTMLElement{constructor(){super();y(this,"willLoad",()=>{var e;this.rootEle=(e=this.shadowRoot)==null?void 0:e.querySelector(".root")});y(this,"render",()=>{let e=this.closest("div");if(!e||!this.shadowRoot)return;let{width:n,height:s}=e.getBoundingClientRect();if(!this.rootEle||n===0)return;this.rootEle.innerHTML="";let o=this.data||[{currency:"USD",values:[{date:"2023/01/01",views:230},{date:"2023/02/01",views:269},{date:"2023/03/01",views:234},{date:"2023/04/01",views:282},{date:"2023/05/01",views:231},{date:"2023/06/01",views:240},{date:"2023/07/01",views:200},{date:"2023/08/01",views:320},{date:"2023/09/01",views:253},{date:"2023/10/01",views:264},{date:"2023/11/01",views:272},{date:"2023/12/01",views:290}]}],i={top:30,bottom:20,left:50,right:30},d=n-i.left-i.right,l=300-i.top-i.bottom,f=a=>{let r=a.select("defs").append("linearGradient").attr("id","gradient").attr("x1","0%").attr("y1","100%").attr("x2","0%").attr("y2","0%");r.append("stop").attr("offset","0%").attr("style","stop-color:#777dcf;stop-opacity:0.05"),r.append("stop").attr("offset","100%").attr("style","stop-color:#777dcf;stop-opacity:.5")},h=a=>{let r=a.select("defs").append("filter").attr("id","glow");r.append("feGaussianBlur").attr("stdDeviation","4").attr("result","coloredBlur");let A=r.append("feMerge");A.append("feMergeNode").attr("in","coloredBlur"),A.append("feMergeNode").attr("in","SourceGraphic")},t=u(this.rootEle).append("svg").attr("width",d+i.left+i.right).attr("height",l+i.top+i.bottom).append("g").attr("transform","translate("+i.left+","+i.top+")");t.append("defs"),t.call(f),t.call(h);let c=z("%Y/%m/%d"),p=o==null?void 0:o.map(a=>({ticker:a.ticker,values:a.values.map(r=>({views:r.views,date:c(r.date)}))})),x=C().domain([w(p,a=>w(a.values,r=>r.date)),v(p,a=>v(a.values,r=>r.date))]).range([0,d]),m=L().domain([w(p,a=>w(a.values,r=>r.views)),v(p,a=>v(a.values,r=>r.views))]).range([l,0]),g=M().x(a=>x(a.date)).y(a=>m(a.views)).curve(E.alpha(.5));this.renderYGridLine({svg:t,height:l,width:d}),this.renderArea({svg:t,parsedData:p,line:g,height:l}),this.renderLine({svg:t,parsedData:p,line:g}),this.renderDotCircle({svg:t,height:l,xScale:x,width:d,yScale:m,parsedData:p}),this.renderYAxis({svg:t,yScale:m,parsedData:p})});y(this,"renderArea",({svg:e,parsedData:n,line:s,height:o})=>{e.selectAll(".line").data(n).enter().append("path").attr("d",i=>{let d=s(i.values).slice(1),l=d.split(",");return`M0,${o},${d},l0,${o-l[l.length-1]}`}).style("fill","url(#gradient)")});y(this,"renderLine",({svg:e,parsedData:n,line:s})=>{e.selectAll(".line").data(n).enter().append("path").attr("d",o=>s(o.values)).attr("stroke-width","2").style("fill","none").style("filter","url(#glow)").attr("stroke","#555ed1")});y(this,"renderDotCircle",({svg:e,height:n,xScale:s,width:o,yScale:i,parsedData:d})=>{function l(t,c){t.style("opacity",c)}let f=e.append("g").attr("class","tick-circle-group").attr("transform",`translate(0, ${n})`).call($(s).tickSize(0)).call(t=>t.select(".domain").remove()).selectAll(".tick").call(t=>t.select("text").remove()).style("transition",".2s");f.selectAll("rect").data(d).enter().append("rect").attr("width",`${o/12+10}px`).attr("x",`-${o/24+5}px`).attr("y",`-${n}px`).attr("height",`${n}px`).style("cursor","pointer").style("opacity","0").style("fill","#777dcf"),f.append("circle").attr("r","8px").style("opacity","0").style("fill","white").style("filter","drop-shadow(var(--popover-shadow))").attr("cy",(t,c)=>-n+i(d[0].values[c].views)).call(i),f.append("circle").attr("r","4px").style("opacity","0").style("fill","#555ed1").attr("cy",(t,c)=>-n+i(d[0].values[c].views)).call(i);let h=this;f.on("mouseout",function(t,c){l(u(t.target),0),l(u(t.currentTarget).selectAll("circle"),0),u(h.tooltip).style("opacity",0),h.tooltip.style.display="none"}).on("mouseover",function(t,c,p){h.tooltip.style.display="flex",u(h.tooltip).transition().duration(200).style("opacity",1);let x=h.tooltip.querySelector(".dot");x.style.background="#555ed1";let m=h.tooltip.querySelector(".text"),g=b(c),a=d[0].values.find(r=>b(r.date)===g);m.innerHTML=`${g} - ${a.views} views`,l(u(t.target),.2),l(u(t.currentTarget).selectAll("circle"),1)}).on("mousemove",t=>{u(h.tooltip).style("left",t.clientX+10+"px").style("top",t.clientY+10+"px")})});y(this,"renderYGridLine",({svg:e,height:n,width:s})=>{e.append("g").attr("class","y-grid").call(k(L().range([n,0])).ticks(4).tickSize(-s).tickPadding(100)).call(o=>o.selectAll(".tick line").attr("class","y-axis-grid").attr("stroke-dasharray","5").attr("stroke","var(--text-quaternary)")).call(o=>o.select(".domain").remove())});y(this,"renderYAxis",({svg:e,yScale:n,parsedData:s})=>{let o=k(n).tickSize(0).tickPadding(10).ticks(4);e.append("g").attr("class","y axis").call(o).call(i=>i.select(".domain").remove())});let e=this.attachShadow({mode:"open"}),n=new CSSStyleSheet;n.replaceSync(G),e.adoptedStyleSheets=[n],e.innerHTML=j}static get observedAttributes(){return[]}attributeChangedCallback(e,n,s){this.render()}connectedCallback(){this.classList.add("hydrated"),T(this),setTimeout(()=>{this.willLoad(),this.render(),this.addEventListener("mouseout",e=>{this.tooltip&&(this.tooltip.style.display="none")}),window.addEventListener("resize",e=>{this.render()})})}disconnectedCallback(){}};export{S as default};
