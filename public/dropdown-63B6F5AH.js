import{h as i,i as c}from"./chunk-O7IMYJUU.js";var n="* { margin: 0; padding: 0; border: 0; background: transparent; box-sizing: border-box; font-family: var(--font-family); } #dropdown { position: relative; display: inline-block; width: 100%; } #trigger { cursor: pointer; width: 100%; color: var(--text-primary); display: flex; flex-direction: row; align-items: center; justify-content: space-between; } #icon { display: none; height: 40px; width: 40px; justify-content: center; align-items: center; } #icon huanlin-icon { --fill: var(--text-primary); --height: 24px; } .popup.active { display: flex; } :host([arrow]) #icon { display: flex; } /*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYWNzdXJmaW5nL0Rlc2t0b3AvYXBwL2ZpcnN0L2Zyb250ZW5kL2NvbXBvbmVudHMvZHJvcGRvd24vaW5kZXgubW9kdWxlLnNjc3MiLCIlM0NpbnB1dCUyMGNzcyUyMGV2TzZ1MiUzRSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFNBQUE7RUFDQSxVQUFBO0VBQ0EsU0FBQTtFQUNBLHVCQUFBO0VBQ0Esc0JBQUE7RUFDQSwrQkFBQTtBQ0NGOztBRENBO0VBQ0Usa0JBQUE7RUFDQSxxQkFBQTtFQUNBLFdBQUE7QUNFRjs7QURBQTtFQUNFLGVBQUE7RUFDQSxXQUFBO0VBQ0EsMEJBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLDhCQUFBO0FDR0Y7O0FEREE7RUFDRSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FDSUY7O0FERkE7RUFDRSwyQkFBQTtFQUNBLGNBQUE7QUNLRjs7QURXQTtFQUNFLGFBQUE7QUNSRjs7QURXRTtFQUNFLGFBQUE7QUNSSiIsImZpbGUiOiJ0by5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIqIHsgXG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyOiAwO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnQtZmFtaWx5KTtcbn1cbiNkcm9wZG93biB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICB3aWR0aDogMTAwJTtcbn1cbiN0cmlnZ2VyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB3aWR0aDogMTAwJTtcbiAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cbiNpY29uIHtcbiAgZGlzcGxheTogbm9uZTtcbiAgaGVpZ2h0OiA0MHB4O1xuICB3aWR0aDogNDBweDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4jaWNvbiBodWFubGluLWljb24ge1xuICAtLWZpbGw6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gIC0taGVpZ2h0OiAyNHB4O1xufVxuLnBvcHVwIHtcbiAgLy8gZGlzcGxheTogbm9uZTsgXG4gIC8vIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgLy8gdG9wOiA0MHB4O1xuICAvLyBsZWZ0OiAwcHg7XG4gIC8vIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIC8vIGJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtcHJpbWFyeSk7XG4gIC8vIGJveC1zaGFkb3c6IHZhcigtLXBvcG92ZXItc2hhZG93KTtcbiAgLy8gcGFkZGluZzogMTBweDtcbiAgLy8gd2lkdGg6IDEwMCU7XG4gIC8vIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgLy8gZ2FwOiA2cHg7XG4gIC8vIHotaW5kZXg6IDE7XG59XG4ucG9wdXAuYWN0aXZlIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbjpob3N0KFthcnJvd10pIHtcbiAgI2ljb24ge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gIH1cbn0iLCIqIHtcbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuICBib3JkZXI6IDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBmb250LWZhbWlseTogdmFyKC0tZm9udC1mYW1pbHkpO1xufVxuXG4jZHJvcGRvd24ge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2lkdGg6IDEwMCU7XG59XG5cbiN0cmlnZ2VyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB3aWR0aDogMTAwJTtcbiAgY29sb3I6IHZhcigtLXRleHQtcHJpbWFyeSk7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2Vlbjtcbn1cblxuI2ljb24ge1xuICBkaXNwbGF5OiBub25lO1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbn1cblxuI2ljb24gaHVhbmxpbi1pY29uIHtcbiAgLS1maWxsOiB2YXIoLS10ZXh0LXByaW1hcnkpO1xuICAtLWhlaWdodDogMjRweDtcbn1cblxuLnBvcHVwLmFjdGl2ZSB7XG4gIGRpc3BsYXk6IGZsZXg7XG59XG5cbjpob3N0KFthcnJvd10pICNpY29uIHtcbiAgZGlzcGxheTogZmxleDtcbn1cbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKemIzVnlZMlZTYjI5MElqb2lMMVZ6WlhKekwycGhZM04xY21acGJtY3ZSR1Z6YTNSdmNDOWhjSEF2Wm1seWMzUXZabkp2Ym5SbGJtUXZZMjl0Y0c5dVpXNTBjeTlrY205d1pHOTNiaUlzSW5OdmRYSmpaWE1pT2xzaWFXNWtaWGd1Ylc5a2RXeGxMbk5qYzNNaVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRTdSVUZEUlR0RlFVTkJPMFZCUTBFN1JVRkRRVHRGUVVOQk8wVkJRMEU3T3p0QlFVVkdPMFZCUTBVN1JVRkRRVHRGUVVOQk96czdRVUZGUmp0RlFVTkZPMFZCUTBFN1JVRkRRVHRGUVVOQk8wVkJRMEU3UlVGRFFUdEZRVU5CT3pzN1FVRkZSanRGUVVORk8wVkJRMEU3UlVGRFFUdEZRVU5CTzBWQlEwRTdPenRCUVVWR08wVkJRMFU3UlVGRFFUczdPMEZCWjBKR08wVkJRMFU3T3p0QlFVZEJPMFZCUTBVaUxDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SXFJSHNnWEc0Z0lHMWhjbWRwYmpvZ01EdGNiaUFnY0dGa1pHbHVaem9nTUR0Y2JpQWdZbTl5WkdWeU9pQXdPMXh1SUNCaVlXTnJaM0p2ZFc1a09pQjBjbUZ1YzNCaGNtVnVkRHRjYmlBZ1ltOTRMWE5wZW1sdVp6b2dZbTl5WkdWeUxXSnZlRHRjYmlBZ1ptOXVkQzFtWVcxcGJIazZJSFpoY2lndExXWnZiblF0Wm1GdGFXeDVLVHRjYm4xY2JpTmtjbTl3Wkc5M2JpQjdYRzRnSUhCdmMybDBhVzl1T2lCeVpXeGhkR2wyWlR0Y2JpQWdaR2x6Y0d4aGVUb2dhVzVzYVc1bExXSnNiMk5yTzF4dUlDQjNhV1IwYURvZ01UQXdKVHRjYm4xY2JpTjBjbWxuWjJWeUlIdGNiaUFnWTNWeWMyOXlPaUJ3YjJsdWRHVnlPMXh1SUNCM2FXUjBhRG9nTVRBd0pUdGNiaUFnWTI5c2IzSTZJSFpoY2lndExYUmxlSFF0Y0hKcGJXRnllU2s3WEc0Z0lHUnBjM0JzWVhrNklHWnNaWGc3WEc0Z0lHWnNaWGd0WkdseVpXTjBhVzl1T2lCeWIzYzdYRzRnSUdGc2FXZHVMV2wwWlcxek9pQmpaVzUwWlhJN1hHNGdJR3AxYzNScFpua3RZMjl1ZEdWdWREb2djM0JoWTJVdFltVjBkMlZsYmp0Y2JuMWNiaU5wWTI5dUlIdGNiaUFnWkdsemNHeGhlVG9nYm05dVpUdGNiaUFnYUdWcFoyaDBPaUEwTUhCNE8xeHVJQ0IzYVdSMGFEb2dOREJ3ZUR0Y2JpQWdhblZ6ZEdsbWVTMWpiMjUwWlc1ME9pQmpaVzUwWlhJN1hHNGdJR0ZzYVdkdUxXbDBaVzF6T2lCalpXNTBaWEk3WEc1OVhHNGphV052YmlCb2RXRnViR2x1TFdsamIyNGdlMXh1SUNBdExXWnBiR3c2SUhaaGNpZ3RMWFJsZUhRdGNISnBiV0Z5ZVNrN1hHNGdJQzB0YUdWcFoyaDBPaUF5TkhCNE8xeHVmVnh1TG5CdmNIVndJSHRjYmlBZ0x5OGdaR2x6Y0d4aGVUb2dibTl1WlRzZ1hHNGdJQzh2SUhCdmMybDBhVzl1T2lCaFluTnZiSFYwWlR0Y2JpQWdMeThnZEc5d09pQTBNSEI0TzF4dUlDQXZMeUJzWldaME9pQXdjSGc3WEc0Z0lDOHZJR1pzWlhndFpHbHlaV04wYVc5dU9pQmpiMngxYlc0N1hHNGdJQzh2SUdKaFkydG5jbTkxYm1RNklIWmhjaWd0TFdKaFkydG5jbTkxYm1RdGNISnBiV0Z5ZVNrN1hHNGdJQzh2SUdKdmVDMXphR0ZrYjNjNklIWmhjaWd0TFhCdmNHOTJaWEl0YzJoaFpHOTNLVHRjYmlBZ0x5OGdjR0ZrWkdsdVp6b2dNVEJ3ZUR0Y2JpQWdMeThnZDJsa2RHZzZJREV3TUNVN1hHNGdJQzh2SUdKdmNtUmxjaTF5WVdScGRYTTZJRFJ3ZUR0Y2JpQWdMeThnWjJGd09pQTJjSGc3WEc0Z0lDOHZJSG90YVc1a1pYZzZJREU3WEc1OVhHNHVjRzl3ZFhBdVlXTjBhWFpsSUh0Y2JpQWdaR2x6Y0d4aGVUb2dabXhsZUR0Y2JuMWNianBvYjNOMEtGdGhjbkp2ZDEwcElIdGNiaUFnSTJsamIyNGdlMXh1SUNBZ0lHUnBjM0JzWVhrNklHWnNaWGc3WEc0Z0lIMWNibjBpWFgwPSAqLyJdfQ== */";var s=0,a=class extends HTMLElement{constructor(){super();i(this,"handleDropdownOpenClose",t=>{let e=this.shadowRoot.querySelector("[part='popup']");e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active");let d=t.target.closest("huanlin-menu-item");d&&(this.setActiveItem(d.name),this.focusTrigger())});i(this,"willLoad",()=>{var t;this.popup=(t=this.shadowRoot)==null?void 0:t.querySelector("[part='popup']"),this.shadowRoot.querySelector("#dropdown").addEventListener("click",this.handleDropdownOpenClose),this.shadowRoot.querySelector("#trigger").addEventListener("keydown",this.handleKeyboard),this.shadowRoot.querySelector("[part='popup']").addEventListener("keydown",this.handleMenuArrow),this.addEventListener("keydown",this.handleCloseKeyboard),document.body.addEventListener("click",this.handleClickOutside)});i(this,"render",()=>{});i(this,"setActiveItem",t=>{Array.from(this.querySelectorAll("huanlin-menu-item")).forEach(l=>{l.name===t?l.setAttribute("active",""):l.removeAttribute("active")})});i(this,"handleMenuArrow",t=>{if(t.key==="ArrowDown"){let e=this.getItems(),d=e.indexOf(t.target)+1;if(d<0||d>=e.length)return;e[d].setFocus()}else if(t.key==="ArrowUp"){let e=this.getItems(),d=e.indexOf(t.target)-1;if(d<0||d>=e.length)return;e[d].setFocus()}else t.key==="Enter"&&(this.setActiveItem(t.target.name),this.hide(),setTimeout(()=>{this.focusTrigger()}))});i(this,"getItems",()=>Array.from(this.querySelectorAll("huanlin-menu-item")));i(this,"handleCloseKeyboard",t=>{t.key==="Escape"?(this.hide(),this.focusTrigger()):(t.key==="Tab"||t.shiftKey&&t.key==="Tab")&&this.hide()});i(this,"focusTrigger",()=>c(this,null,function*(){yield this.querySelector("[slot='trigger']").setFocus()}));i(this,"handleKeyboard",t=>{if(["ArrowDown"," ","Enter"].includes(t.key)){this.show();let e=this.getItems();e.length&&e[0].setFocus()}});i(this,"handleClickOutside",t=>{this.contains(t.target)||this.hide()});i(this,"isOpen",()=>this.popup.classList.contains("active"));i(this,"show",()=>{this.popup.classList.add("active")});i(this,"hide",()=>{this.popup.classList.remove("active")});let t=this.attachShadow({mode:"open"}),e=new CSSStyleSheet;e.replaceSync(n),t.adoptedStyleSheets=[e],s+=1;let l=`dropdown-trigger-${s}`;t.innerHTML=`
      <div part="root" id="dropdown">
        <div popovertarget="${l}" part="trigger" id="trigger" aria-labelledby="label" aria-control="popup">
          <span part="label" id="label">
            <slot name="trigger"></slot>
          </span>
          <span part="icon" id="icon">
            <huanlin-icon name="arrow-down"></huanlin-icon>
          </span>
        </div>
        <div popover part="popup" id="${l}" class="popup">
          <slot></slot>
        </div>
      </div>
    `}set arrow(t){this.setAttribute("arrow",t)}get arrow(){return!!(this.getAttribute("arrow")==="true"||this.hasAttribute("arrow"))}static get observedAttributes(){return["arrow"]}connectedCallback(){this.classList.add("hydrated"),this.willLoad(),this.render()}disconnectedCallback(){document.body.removeEventListener("click",this.handleClickOutside),this.removeEventListener("keydown",this.handleCloseKeyboard),this.shadowRoot.querySelector("[part='popup']").removeEventListener("keydown",this.handleMenuArrow),this.shadowRoot.querySelector("#dropdown").removeEventListener("click",this.handleDropdownOpenClose),this.shadowRoot.querySelector("#trigger").removeEventListener("keydown",this.handleKeyboard)}};export{a as default};
//# sourceMappingURL=dropdown-63B6F5AH.js.map
